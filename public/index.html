<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Primary Meta Tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors Game</title>
  <meta name="title" content="Rock Paper Scissors Game">
  <meta name="description" content="Play a fun, animated Rock Paper Scissors game built by KairosDev!">

  <!-- Open Graph / Facebook -->
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:alt" content="Rock Paper Scissors Game Preview">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://rock-paper-scissors-game-seven-liart.vercel.app/">
  <meta property="og:title" content="Rock Paper Scissors Game">
  <meta property="og:description" content="Play a fun, animated Rock Paper Scissors game built by KairosDev!">
  <meta property="og:image" content="https://rock-paper-scissors-game-seven-liart.vercel.app/images/preview.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://rock-paper-scissors-game-seven-liart.vercel.app/">
  <meta name="twitter:title" content="Rock Paper Scissors Game">
  <meta name="twitter:description" content="Play a fun, animated Rock Paper Scissors game built by KairosDev!">
  <meta name="twitter:image" content="https://rock-paper-scissors-game-seven-liart.vercel.app/images/preview.jpg">

  <!-- Favicon (optional but nice touch) -->
  <link rel="icon" type="image/png" href="images/favicon.png">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles/style.css">
</head>

<body>
  <div class="background">
      <img src="images-icons/Gemini_Generated_Image_xwyii0xwyii0xwyi.webp" alt="rock-paper-scissors-image" width="300" height="200" class="bg-image">
  </div>
  <main>
    <div class="title"><h1>Rock Paper Scissors</h1>
    </div>
    <div class="play"> <!-- Buttons that trigger playGame() with the chosen move --> 
      <button onclick="playGame('rock')" class="game-buttons">
        <img src="images-icons/rock-emoji.png" alt="" ><span class="tooltip-text">Play rock</span></button>
      <button onclick="playGame('paper')" class="game-buttons"><img src="images-icons/paper-emoji.png" alt=""><span class="tooltip-text">Play Paper</span></button>
      <button onclick="playGame('scissors')" class="game-buttons"><img src="images-icons/scissors-emoji.png" alt=""><span class="tooltip-text">Play Scissors</span></button>
    </div>

    <div class="game-info">
      <div class="result"><p></p></div>
      <div class="moves"><p></p></div>
      <div class="game-result"><p></p></div>
    </div>
      
    <!-- Reset button to clear game scores -->
    <button onclick="resetGame()" class="reset-btn">Reset Game</button>
  </main>

  <script>
    // Load score from localStorage or create default if null
    let score = JSON.parse(localStorage.getItem('gameResults')) || {
      wins: 0,
      losses: 0,
      draws: 0
    };
    const gameResultElements = () => {
      document.querySelector('.game-result').innerHTML = ` 
      wins: ${score.wins}, losses: ${score.losses}, draws: ${score.draws}`
    }
    gameResultElements ();

    // Function to play one round of the game
    const playGame = (playerMove) => {
      let computerMove = '';
      // Generate random computer move
      const randomNumber = Math.random();
      if (randomNumber <= 1 / 3) {
        computerMove = 'rock';
      } else if (randomNumber < 2 / 3 && randomNumber >= 1 / 3) {
        computerMove = 'paper';
      } else {
        computerMove = 'scissors';
      }

      console.log(`computer move: ${computerMove}`);

      // Variable to store round result
      let result = '';

      // Determine the winner based on moves
      if (playerMove === computerMove) {
        result = 'you have a tie ü§è';
        score.draws++;
      }
      else if (
        (playerMove === 'rock' && computerMove === 'scissors') || 
        (playerMove === 'paper' && computerMove === 'rock') || 
        (playerMove === 'scissors' && computerMove === 'paper')) {
        result = 'you Win üéâ';
        score.wins++;
      } 
      else {
        result = 'you lose üòî';
        score.losses++;
      }
      

      console.log(result);

      console.log(score);

      // Save updated score to localStorage
      localStorage.setItem('gameResults', JSON.stringify(score));

      // Show result in an alert

      document.querySelector('.moves').innerHTML = `you played: <img src="images-icons/${playerMove}-emoji.png" alt="${playerMove}" class="move-emoji">  computer played: <img src="images-icons/${computerMove}-emoji.png" alt="${computerMove}" class="move-emoji">`;
      document.querySelector('.result').innerHTML = ` ${result} `;
      gameResultElements ();
    };

    // Function to reset the game scores
    const resetGame = () => {
      score.wins = 0;
      score.losses = 0;
      score.draws = 0;

      // Save reset score into localStorage
      localStorage.setItem('gameResults', JSON.stringify(score));

      alert ('Game has been reset');
      console.log(score);
      // Function to update the game result element
      gameResultElements ()
    };

    // Function to get the game result element
    
  </script>
</body>
</html>
